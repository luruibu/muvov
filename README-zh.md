# MUVOV - P2P WebRTC 安全聊天

基于 WebRTC 构建的点对点加密聊天应用，支持多用户身份、好友系统、房间功能、消息缓存、离线同步和音视频通话。

## 🌐 在线演示

**立即体验 MUVOV**：[https://luruibu.github.io/muvov/](https://luruibu.github.io/muvov/)

无需安装 - 直接在浏览器中运行！

## 🎯 构建您自己的安全通信系统

**MUVOV** 利用三个强大的开源技术，帮助您快速构建完整、独立且高度安全的通信系统：

- **🔗 MUVOV**：完整的 P2P 聊天应用框架
- **🌐 STUN**：用于直接对等连接的 NAT 穿越
- **📡 PeerJS**：简化的 WebRTC 实现

通过这三个组件，您可以快速部署一个**完全自主、自控、安全且便捷的通信系统**，无需依赖任何第三方服务器进行消息存储或处理。

## 🎯 适用人群与团队

### 👥 目标组织
- **中小企业**：需要内部安全通信，不想依赖第三方服务
- **初创公司**：预算有限，需要快速部署通信系统
- **远程团队**：分布式办公，需要可靠的音视频通话
- **技术团队**：开发者、IT部门，重视数据安全和隐私

### 🏛️ 特殊行业
- **金融机构**：银行、证券公司，对数据安全要求极高
- **医疗机构**：医院、诊所，需要保护患者隐私
- **法律事务所**：律师事务所，客户信息高度敏感
- **政府部门**：需要内部安全通信，防止信息泄露

### 🌍 地理位置敏感
- **网络受限地区**：某些国家或地区，传统通信工具受限
- **跨国企业**：需要全球统一的通信解决方案
- **海外工作者**：外派员工、留学生、移民群体

### 👨💻 技术用户
- **开源爱好者**：支持开源项目，重视代码透明度
- **隐私倡导者**：极度重视个人隐私和数据主权
- **技术极客**：喜欢尝试新技术，自建服务

## 🎪 使用场景

### 🔒 高安全需求场景
- **商业机密讨论**：产品研发、战略规划会议
- **法律咨询**：律师与客户的敏感沟通
- **医疗咨询**：医生与患者的远程诊疗
- **金融交易**：投资顾问与客户的私密沟通

### 🏢 企业内部场景
- **内部会议**：部门会议、项目讨论
- **客户服务**：一对一客户支持
- **培训教育**：内部培训、知识分享
- **应急通信**：紧急情况下的快速沟通

### 🌐 跨境协作场景
- **国际项目**：跨国团队协作
- **海外分支**：总部与海外办事处沟通
- **供应商沟通**：与海外供应商的业务交流
- **客户支持**：为全球客户提供技术支持

### 📱 移动办公场景
- **外勤工作**：销售、维修人员的移动通信
- **出差沟通**：商务旅行中的团队协作
- **居家办公**：远程工作的日常沟通
- **临时项目**：短期项目的快速通信搭建

### 🚫 网络限制场景
- **网络审查环境**：绕过网络限制的通信需求
- **带宽受限**：网络条件差的地区
- **离线环境**：需要本地部署的封闭网络
- **应急通信**：自然灾害等紧急情况

### 💰 成本敏感场景
- **预算有限**：无法承担昂贵商业通信软件
- **按需使用**：临时项目，不需要长期订阅
- **自主控制**：不想被厂商绑定，需要完全控制
- **合规要求**：数据必须存储在本地或指定区域

## ✨ 功能特性

### 👥 多用户与身份管理
- **多重身份**：在同一设备上创建和管理多个用户配置文件
- **身份切换**：在不同身份之间无缝切换
- **个人资料定制**：为每个身份设置独特的用户名、头像和偏好设置
- **数据隔离**：每个身份维护独立的好友列表、聊天记录和设置

### 🤝 高级好友系统
- **智能好友发现**：通过 Peer ID、二维码或邀请链接添加好友
- **好友验证**：安全的好友请求系统，支持接受/拒绝
- **联系人管理**：使用自定义名称和分组整理好友
- **状态跟踪**：实时在线/离线状态和最后在线时间信息
- **好友同步**：会话间好友列表的自动同步

### 🏠 房间功能
- **群组房间**：创建和加入多用户聊天室
- **房间管理**：管理员控制房间设置和成员管理
- **公开/私密房间**：选择开放房间或仅限邀请的空间
- **房间发现**：浏览和加入可用的公开房间
- **持久房间**：房间维护历史记录和成员列表

### 💬 增强消息功能
- **端到端加密**：直接 P2P 通信，无服务器存储
- **消息缓存**：每个客户端本地存储最近 500 条消息
- **离线同步**：用户重新上线时自动消息同步
- **文件共享**：在对等点之间直接发送文件，支持进度跟踪
- **聊天历史**：对话的持久本地存储
- **消息状态**：已发送消息的送达和已读回执
- **富媒体**：支持图片、文档和多媒体文件

### 📞 音视频通话
- **高清视频通话**：高质量视频通信
- **清晰音频**：优化的音频传输
- **摄像头切换**：视频通话期间前后摄像头切换
- **通话时长跟踪**：实时通话计时器
- **通话历史**：通话记录的本地存储

### 🔐 安全与隐私
- **无服务器存储**：消息从不存储在服务器上
- **P2P 加密**：直接加密通信
- **二维码分享**：通过二维码安全添加好友
- **仅本地数据**：所有数据仅存储在您的设备上

### 🌐 网络功能
- **自动重连**：自动连接恢复
- **移动优化**：专门针对手机浏览器进行优化适配
- **网络适应**：根据连接质量调整
- **实时状态**：实时在线/离线好友状态

### ⚙️ 系统设置与管理
- **高级设置面板**：应用程序所有方面的综合配置选项
- **网络优化**：可配置的连接预设（低/中/高频率）
- **隐私控制**：粒度隐私设置和数据管理选项
- **存储管理**：本地数据清理和存储配额管理
- **通知设置**：可自定义的警报和声音偏好设置
- **主题自定义**：明亮/暗黑模式和 UI 外观选项

### 🔧 调试与开发工具
- **实时调试面板**：P2P 连接和系统状态的实时监控
- **连接诊断**：详细的 WebRTC 连接信息和故障排除
- **性能指标**：网络延迟、带宽使用情况和连接质量指示器
- **日志查看器**：具有过滤和导出功能的综合应用程序日志
- **网络分析**：SSTUN/TURN 服务器连接性测试和优化
- **开发者控制台**：为开发者和高级用户提供的高级调试工具

### 📱 手机浏览器优化
- **触摸优化界面**：专为手机触摸交互设计的 UI
- **响应式设计**：适应性布局，在所有屏幕尺寸上完美工作
- **手机 WebRTC 支持**：针对手机浏览器优化的 WebRTC 实现
- **电池效率**：针对手机长时间使用的电池优化
- **手机摄像头集成**：在手机设备上无缝切换前后摄像头
- **触摸手势**：原生手机手势用于导航和交互

### 🌍 通用访问
- **仅浏览器**：无需客户端安装 - 完全在网络浏览器中运行
- **跨平台**：适用于 Windows、Mac、Linux、iOS、Android 和任何具有现代浏览器的设备
- **即时访问**：打开任何浏览器，访问 URL，立即开始通信
- **零安装**：无需应用商店、无需下载、无需系统权限
- **始终可用**：随时随地从任何设备访问，只需一个网络浏览器
- **无客户端下载**：与需要安装的传统消息应用不同，MUVOV 在任何现代浏览器中即时工作

## 🔒 安全架构与数据保护

### 🛡️ 零服务器数据存储
- **无中央数据库**：与传统消息应用不同，MUVOV 在任何服务器上存储零通信数据
- **无消息日志**：您的对话仅存在于您的设备上 - 没有公司、政府或黑客可以访问服务器存储的消息
- **无元数据收集**：不跟踪您与谁交谈、何时交谈或交谈频率
- **完全数据主权**：您拥有并控制 100% 的通信数据

### 🔐 端到端 P2P 加密
- **直接对等连接**：消息使用 WebRTC 内置加密（DTLS/SRTP）直接在设备之间传输
- **无中介服务器**：数据从不通过可能拦截或记录通信的第三方服务器
- **实时加密**：所有消息、文件和通话在传输过程中使用行业标准协议加密
- **完美前向保密**：每个会话使用唯一的加密密钥，无法解密过去的通信

### 🏠 本地优先数据模型
- **仅设备存储**：所有聊天历史、联系人和设置仅存储在您的本地设备上
- **无云同步**：除非您明确与对等点共享，否则您的数据永远不会离开您的设备
- **加密本地存储**：甚至本地数据也可以使用用户定义的密码加密
- **选择性数据共享**：您选择与谁共享哪些数据

### 🚫 隐私保护功能
- **无需电话号码**：使用匿名 Peer ID 而不是个人标识符连接
- **无账户注册**：使用系统无需电子邮件、电话或个人信息
- **临时连接**：对等连接可以是临时的，不留永久痕迹
- **网络流量混淆**：P2P 流量显示为标准 WebRTC 数据，不可识别为消息传递

### 🔄 去中心化架构优势
- **无单点故障**：没有可被黑客攻击、关闭或妥协的中央服务器
- **抗审查**：不能被针对特定服务器的政府或 ISP 阻止
- **全球可用性**：在任何有互联网接入的地方工作，无区域服务器依赖
- **自主网络**：每个用户都为去中心化网络做出贡献并从中受益

### 📊 隐私对比

| 功能 | MUVOV | 传统应用 | 加密应用 |
|------|-------|----------|----------|
| 服务器消息存储 | ❌ 从不 | ✅ 总是 | ⚠️ 加密 |
| 元数据收集 | ❌ 无 | ✅ 广泛 | ⚠️ 有限 |
| 账户注册 | ❌ 可选 | ✅ 必需 | ✅ 必需 |
| 中央权威 | ❌ 无 | ✅ 公司 | ✅ 公司 |
| 数据所有权 | ✅ 用户 | ❌ 公司 | ⚠️ 共享 |
| 抗审查性 | ✅ 高 | ❌ 低 | ⚠️ 中等 |
| 网络监控 | ❌ 最小 | ✅ 容易 | ⚠️ 困难 |

## 🚀 快速开始

### 🌐 在线演示体验
体验 MUVOV 的最快方式：
1. 访问 [https://luruibu.github.io/muvov/](https://luruibu.github.io/muvov/)
2. 创建您的第一个身份
3. 立即开始聊天！

### 🐳 Docker 部署（推荐）
部署您自己的私有 MUVOV 实例：

```bash
# 克隆仓库
git clone https://github.com/luruibu/muvov.git
cd muvov/docker

# 使用您的域名部署
./deploy.sh your-domain.com
```

**要求：**
- 带有 Docker 的 Linux 服务器
- 指向您服务器的域名
- 端口 80、443、3478、5349 可用

详细说明请参见 [Docker 部署指南](docker/README.md)。

### 💻 本地开发

**先决条件：**
- Node.js（v16 或更高版本）
- 支持 WebRTC 的现代网络浏览器

**安装：**

1. 克隆仓库：
   ```bash
   git clone https://github.com/luruibu/muvov.git
   cd muvov
   ```

2. 安装依赖：
   ```bash
   npm install
   ```

3. 启动开发服务器：
   ```bash
   npm run dev
   ```

4. 打开浏览器并导航到 `http://localhost:5173`

**生产构建：**

```bash
npm run build
```

构建文件将在 `dist/` 目录中。

## 📱 使用方法

### 👤 身份管理
1. **创建身份**：点击"新身份"创建额外的配置文件
2. **切换身份**：使用身份选择器在配置文件之间切换
3. **编辑资料**：为每个身份自定义用户名、头像和设置
4. **删除身份**：删除不再需要的身份

### 🤝 好友管理
1. **添加好友**：
   - 输入好友的 Peer ID 和用户名
   - 扫描二维码进行即时连接
   - 分享您的二维码或 Peer ID
2. **好友请求**：接受或拒绝传入的好友请求
3. **好友列表**：查看在线状态并管理您的联系人
4. **好友设置**：自定义好友名称和通知偏好

### 🏠 使用房间
1. **创建房间**：点击"创建房间"并设置房间名称和隐私设置
2. **加入房间**：浏览公开房间或输入私密房间的房间 ID
3. **房间聊天**：与多个用户参与群组对话
4. **房间管理**：管理员可以管理成员和房间设置

### 💬 消息与通话
1. **开始聊天**：点击好友或房间开始对话
2. **发送消息**：输入并发送文本、文件或媒体
3. **语音通话**：点击 🎤 进行音频通话
4. **视频通话**：点击 📹 进行视频通话，支持摄像头切换
5. **文件共享**：拖放文件或使用附件按钮

### 📊 历史与设置
1. **聊天历史**：所有对话都自动保存在本地
2. **通话记录**：查看带有时长和参与者的通话历史
3. **系统设置**：访问应用程序所有方面的综合配置面板
4. **隐私设置**：配置数据保留、加密和共享偏好设置
5. **网络设置**：优化连接参数和服务器配置

### 🔧 高级工具
1. **调试面板**：访问实时系统诊断和连接监控
2. **性能监控器**：查看网络指标、延迟和连接质量
3. **连接测试器**：测试 STUN/TURN 服务器连接性并排除问题
4. **日志管理**：查看、过滤和导出应用程序日志以进行故障排除
5. **开发者工具**：为技术用户提供的高级调试功能

## 🛠️ 技术栈

### 核心技术
- **🔗 MUVOV**：完整的 P2P 通信框架
- **🌐 STUN**：用于对等发现的 NAT 穿越服务器
- **📡 PeerJS**：WebRTC 抽象层

### 前端技术栈
- **前端**：React + TypeScript + Vite
- **样式**：Tailwind CSS
- **存储**：LocalStorage 用于持久数据
- **二维码**：qr-scanner 用于二维码功能

## 🔧 配置

### 网络设置
应用包含可配置的网络优化预设：
- **LOW_FREQUENCY**：最小网络使用
- **MEDIUM_FREQUENCY**：平衡性能（默认）
- **HIGH_FREQUENCY**：最大响应性

### 存储限制
- **聊天消息**：每个好友/房间 500 条消息
- **通话记录**：最近 100 次通话
- **文件引用**：仅文件名（不存储实际文件）
- **身份**：每个设备无限用户配置文件
- **好友**：每个身份无限好友
- **房间**：无限房间参与

## 🐳 Docker 部署

MUVOV 支持使用 Docker 进行完整的私有部署：

### 功能
- **一键部署**：带有 SSL 证书的自动设置
- **完全隐私**：您自己的 STUN/TURN 服务器和 PeerJS 实例
- **生产就绪**：包括 Caddy 代理、CoTURN 服务器和 PeerJS
- **自动 SSL**：Let's Encrypt 集成用于 HTTPS
- **可扩展**：易于扩展和自定义以满足您的需求

### 快速部署
```bash
git clone https://github.com/luruibu/muvov.git
cd muvov/docker
./deploy.sh your-domain.com
```

详细部署说明请参见 [Docker 部署指南](docker/README.md)。

## 💝 支持此项目

如果您觉得这个项目有帮助，请考虑支持其开发：

[![使用 PayPal 捐赠](https://www.paypalobjects.com/en_US/i/btn/btn_paynowCC_LG.gif)](https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=66X23LVXDKZAN)

您的支持有助于开发和服务器成本。所有捐赠都是自愿的，非常感谢！

## 🤝 贡献

我们欢迎贡献！

### 开发设置
1. Fork 仓库
2. 创建功能分支：`git checkout -b feature-name`
3. 进行更改并彻底测试
4. 提交拉取请求

## 📄 许可证

此项目根据 MIT 许可证授权 - 有关详细信息，请参见 [LICENSE](LICENSE) 文件。

## 🙏 致谢

### 核心开源技术
- **[MUVOV](https://github.com/luruibu/muvov)** - 完整的 P2P 通信框架
- **[STUN 服务器](https://webrtc.org/getting-started/turn-server)** - NAT 穿越基础设施
- **[PeerJS](https://peerjs.com/)** - WebRTC 抽象层
- **[CoTURN](https://github.com/coturn/coturn)** - STUN/TURN 服务器实现
- **[Caddy](https://caddyserver.com/)** - 带有自动 HTTPS 的现代网络服务器

### 开发技术栈
- [React](https://reactjs.org/) 用于 UI 框架
- [Tailwind CSS](https://tailwindcss.com/) 用于样式
- [Vite](https://vitejs.dev/) 用于构建工具
- [Docker](https://docker.com/) 用于容器化

## 📞 支持

如果您遇到任何问题或有疑问：
1. 查看 [Issues](https://github.com/luruibu/p2p-webrtc-secure-chat/issues) 页面
2. 创建包含详细信息的新问题
3. 加入我们的社区讨论

---

<div align="center">
<strong>MUVOV + STUN + PeerJS = 完整的自主通信系统</strong><br>
为安全、私密通信而制作 ❤️
</div>